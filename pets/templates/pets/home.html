{% extends 'pets/base.html' %}

{% block content %}
<div class="text-center mb-20">
    <h1 style="font-size: 3rem; margin-bottom: 10px; color: #667eea;">Welcome to Pawnder!</h1>
    <p style="font-size: 1.2rem; color: #666;">The premier platform for pet dating and responsible breeding</p>
    <div style="margin-top: 30px;">
        {% if not user.is_authenticated %}
            <a href="{% url 'register' %}" class="btn">Get Started</a>
            <a href="{% url 'login' %}" class="btn btn-secondary" style="margin-left: 10px;">Login</a>
        {% else %}
            <a href="{% url 'add_pet' %}" class="btn">Add Your Pet</a>
            <a href="{% url 'search_pets' %}" class="btn btn-success" style="margin-left: 10px;">Find Matches</a>
        {% endif %}
    </div>
</div>

<div class="card">
    <h2 style="margin-bottom: 20px; color: #667eea;">Recently Added Pets</h2>

    {% if recent_pets %}
        <div class="pet-grid">
            {% for pet in recent_pets %}
                <div class="pet-card" onclick="window.location.href='{% url 'pet_detail' pet.pk %}'">
                    {% if pet.photo1 %}
                        <img src="{{ pet.photo1.url }}" alt="{{ pet.name }}" onerror="this.src='https://placedog.net/600/400?id={{ pet.id }}'">
                    {% elif pet.species == 'DOG' %}
                        <img src="https://placedog.net/600/400?id={{ pet.id }}" alt="{{ pet.name }}">
                    {% elif pet.species == 'CAT' %}
                        <img src="https://placekitten.com/600/400" alt="{{ pet.name }}">
                    {% else %}
                        <img src="https://via.placeholder.com/600x400/667eea/ffffff?text={{ pet.name }}" alt="{{ pet.name }}">
                    {% endif %}
                    <div class="pet-card-body">
                        <h3>{{ pet.name }}</h3>
                        <div class="pet-info">
                            <span><strong>Breed:</strong> {{ pet.breed }}</span>
                            <span class="badge {% if pet.gender == 'M' %}badge-info{% else %}badge-warning{% endif %}">
                                {{ pet.get_gender_display }}
                            </span>
                        </div>
                        <div class="pet-info">
                            <span><strong>Age:</strong> {{ pet.age_in_years }} year{{ pet.age_in_years|pluralize }}</span>
                            {% if pet.is_vaccinated %}
                                <span class="badge badge-success">Vaccinated</span>
                            {% endif %}
                        </div>
                        {% if pet.location %}
                            <div class="pet-info">
                                <span><strong>Location:</strong> {{ pet.location }}</span>
                            </div>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="no-pets">
            <p>No pets available yet. Be the first to add your pet!</p>
        </div>
    {% endif %}
</div>

<div class="card mt-20">
    <h2 style="margin-bottom: 15px; color: #667eea;">How It Works</h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
        <div style="text-align: center; padding: 20px;">
            <h3 style="color: #764ba2;">1. Create Profile</h3>
            <p>Register and add your pet's details including vaccination records and health information.</p>
        </div>
        <div style="text-align: center; padding: 20px;">
            <h3 style="color: #764ba2;">2. Browse Matches</h3>
            <p>Search for compatible pets based on breed, age, location, and health criteria.</p>
        </div>
        <div style="text-align: center; padding: 20px;">
            <h3 style="color: #764ba2;">3. Connect</h3>
            <p>Send match requests and connect with other pet owners for responsible breeding.</p>
        </div>
    </div>
</div>
{% endblock %}
